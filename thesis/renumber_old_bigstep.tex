\judgbox{\hci,\pth\vdash d\ppnd(\hci',d')}{
  Hole instance numbering in expression $d$ with hole instance info $\hci$
}
\begin{mathpar}
  \Infer{\ppndl-Value}{
    d\textsf{ value} \\
    d\ne\lambda x.d
  }{\hci,\pth\vdash d\ppnd(\hci,d)}
  \and
  \Infer{\ppndl-Var}{}{\hci,\pth\vdash x\ppnd(\hci,x)}
  \and
  \Infer{\ppndl-Lam}{
    \hci,\pth\vdash d\ppnd(\hci',d')
  }{\hci,\pth\vdash\lambda x.d\ppnd(\hci',d')}
  \and
  \Infer{\ppndl-Ap}{
    \hci\pth\vdash d_1\ppnd(\hci',d_1') \\
    \hci',\pth\vdash d_2\ppnd(\hci'',d_2')
  }{\hci,\pth\vdash\lambda d_1(d_2)\ppnd (\hci'',d_1'(d_2'))}
  \and
  \Infer{\ppndl-Op}{
    \hci,\pth\vdash d_1\ppnd(\hci',d_1') \\
    \hci',\pth\vdash d_2\ppnd(\hci'',d_2')
  }{\hci,\pth\vdash\lambda d_1+d_2\ppnd (\hci'',d_1'+d_2')} \\
  \and
  \Infer{\ppndl-EHole}{
    \hid(\hci,u)=i \\
    \hci'=\hci,(u,i,\_,\pth)
  }{\hci,\pth\vdash\hehole_\env^u\ppnd(\hci',\hehole_\env^{u:i})}
  \and
  \Infer{\ppndl-NEHole}{
    \hid(\hci,u)=i \\
    \hci'=\hci,(u,i,\_,\pth) \\
    \hci',\pth\vdash d\ppnd(\hci'',d') \\
  }{\hci,\pth\vdash\hhole{d}_\env^u\ppnd(\hci'',\hhole{d'}_\env^{u:i})}
\end{mathpar}

\judgbox{\hci,\pth\vdash d\ppns(\hci',d')}{
  Hole instance numbering in hole envs in $d$ with hole instance info $\hci$
}
\begin{mathpar}
  \Infer{\ppnsl-Value}{
    d\textsf{ value} \\
    d\ne\lambda x.d
  }{\hci,\pth\vdash d\ppns(\hci,d)}
  \and
  \Infer{\ppnsl-Var}{}{\hci,\pth\vdash x\ppns(\hci,x)}
  \and
  \Infer{\ppnsl-Lam}{
    \hci,\pth\vdash d\ppns(\hci',d')
  }{\hci,\pth\vdash\lambda x.d\ppns(\hci',d')}
  \and
  \Infer{\ppnsl-Ap}{
    \hci,\pth\vdash d_1\ppns(\hci',d_1') \\
    \hci',\pth\vdash d_2\ppns(\hci'',d_2')
  }{\hci,\pth\vdash\lambda d_1(d_2)\ppns (\hci'',d_1'(d_2'))}
  \and
  \Infer{\ppnsl-Op}{
    \hci,\pth\vdash d_1\ppns(\hci',d_1') \\
    \hci',\pth\vdash d_2\ppns(\hci'',d_2')
  }{\hci,\pth\vdash\lambda d_1+d_2\ppns (\hci'',d_1'+d_2')} \\
  \and
  \Infer{\ppnsl-EHole}{
    \hci,\pth,u,i\vdash\env\ppnd(\hci',\env') \\
    \hci',\pth,u,i\vdash\env'\ppns(\hci'',\env'') \\
    \hci'''=\hci'',(u,i,\env'',\pth')
  }{(\hci,(u,i,\_,\pth')),\pth\vdash\hehole_\env^{u:i}\ppns (\hci''',\hehole_{\env''}^{u:i})}
  \and
  \Infer{\ppnsl-NEHole}{
    \hci,\pth,u,i\vdash d\ppns(\hci',d') \\
    \hci',\pth,u,i\vdash\env\ppnd(\hci'',\env') \\
    \hci'',\pth\vdash\env'\ppns(\hci''',\env'') \\
    \hci''''=\hci''',(u,i,\env'',\pth')
  }{(\hci,(u,i,\_,\pth')),\pth\vdash\hhole{d}_\env^{u:i}\ppns (\hci'''',\hhole{d'}_{\env''}^{u:i})}
\end{mathpar}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End: