\judgbox{\hci\vdash d\ppnd(\hci',d')}{
  Hole instance numbering in expression $d$ with hole instance info $\hci$
}
\begin{mathpar}
  \Infer{\ppndl-Value}{
    d\textsf{ value} \\
    d\ne\lambda x.d
  }{\hci\vdash d\ppnd(\hci,d)}
  \and
  \Infer{\ppndl-Var}{}{\hci\vdash x\ppnd(\hci,x)}
  \and
  \Infer{\ppndl-Lam}{
    \hci\vdash d\ppnd(\hci',d')
  }{\hci\vdash\lambda x.d\ppnd(\hci',d')}
  \and
  \Infer{\ppndl-Ap}{
    \hci\vdash d_1\ppnd(\hci',d_1') \\
    \hci'\vdash d_2\ppnd(\hci'',d_2')
  }{\hci\vdash\lambda d_1(d_2)\ppnd (\hci'',d_1'(d_2'))}
  \and
  \Infer{\ppndl-Op}{
    \hci\vdash d_1\ppnd(\hci',d_1') \\
    \hci'\vdash d_2\ppnd(\hci'',d_2')
  }{\hci\vdash\lambda d_1+d_2\ppnd (\hci'',d_1'+d_2')} \\
  \and
  \Infer{\ppndl-EHole}{
    \hid(\hci,u)=i \\
    \hci'=\hci,(u,i,\_,p)
  }{\hci\vdash\hehole_\env^u\ppnd(\hci',\hehole_\env^{u:i})}
  \and
  \Infer{\ppndl-NEHole}{
    \hid(\hci,u)=i \\
    \hci'=\hci,(u,i,\_,p) \\
    \hci'\vdash d\ppnd(\hci'',d') \\
  }{\hci\vdash\hhole{d}_\env^u\ppnd(\hci'',\hhole{d'}_\env^{u:i})}
\end{mathpar}

\judgbox{\hci\vdash d\ppns(\hci',d')}{
  Hole instance numbering in hole envs in $d$ with hole instance info $\hci$
}
\begin{mathpar}
  \Infer{\ppnsl-Value}{
    d\textsf{ value} \\
    d\ne\lambda x.d
  }{\hci\vdash d\ppns(\hci,d)}
  \and
  \Infer{\ppnsl-Var}{}{\hci\vdash x\ppns(\hci,x)}
  \and
  \Infer{\ppnsl-Lam}{
    \hci\vdash d\ppns(\hci',d')
  }{\hci\vdash\lambda x.d\ppns(\hci',d')}
  \and
  \Infer{\ppnsl-Ap}{
    \hci\vdash d_1\ppns(\hci',d_1') \\
    \hci'\vdash d_2\ppns(\hci'',d_2')
  }{\hci\vdash\lambda d_1(d_2)\ppns (\hci'',d_1'(d_2'))}
  \and
  \Infer{\ppnsl-Op}{
    \hci\vdash d_1\ppns(\hci',d_1') \\
    \hci'\vdash d_2\ppns(\hci'',d_2')
  }{\hci\vdash\lambda d_1+d_2\ppns (\hci'',d_1'+d_2')} \\
  \and
  \Infer{\ppnsl-EHole}{
    \hci\vdash\env\ppnd(\hci',\env') \\
    \hci'\vdash\env'\ppns(\hci'',\env'') \\
  }{\hci\vdash\hehole_\env^{u:i}\ppns (\hci'',\hehole_{\env''}^{u:i})}
  \and
  \Infer{\ppnsl-NEHole}{
    \hci\vdash d\ppns(\hci',d') \\
    \hci'\vdash\env\ppnd(\hci'',\env') \\
    \hci''\vdash\env'\ppns(\hci''',\env'')
  }{\hci\vdash\hhole{d}_\env^{u:i}\ppns (\hci''',\hhole{d'}_{\env''}^{u:i})}
\end{mathpar}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End: